---
title: Traces
description: Group multiple logs into a single trace to debug, monitor, and analyze your application.
icon: arrow-progress
---

Traces are a way to group multiple logs into a single trace to debug, monitor, and analyze your application.
Traces are useful for understanding the flow of a request through your application, and for identifying bottlenecks and errors.

## Basic

To start a trace, use the `trace` method. This returns a new `Montelo` instance with a trace internally set.

In the code example below, we create a new trace and then make three API requests using the `trace` instance.
All logs generated by these requests will be grouped into a single trace.

```typescript
const montelo = new Montelo();

const trace = montelo.trace({ name: "Trace Name" });

await trace.openai.chat.completions.create({
  name: "Browse search engine results",
  ...,
});
await trace.log({ ... });
await trace.openai.chat.completions.create({
  name: "Read a PDF",
  ...,
});
```

<Note>These logs will be added to the trace with no hierarchy. For hierarchical traces, see `Nesting` below.</Note>

## Nesting

To create nested traces in Montelo, we simply add `/` to the individual log names.

For example, the following code creates a trace with the name `Parent`, and then creates a nested trace with the name `Child`.

```typescript
const montelo = new Montelo();

const trace = montelo.trace({ name: "Trace Name" });

await trace.openai.chat.completions.create({ name: "Parent", ... });
await trace.openai.chat.completions.create({ name: "Parent / Child", ... });
```

That's it! The logs will be grouped into a single trace with the name `Parent`, and the nested trace will be grouped into a single trace with the name `Child`.

You don't have to pass around identifiers or manage the hierarchy yourself. Montelo will automatically group the logs into the correct traces.

This is especially useful when you have a complex application and you are using agents.
You can create a trace for each agent, and then create nested traces for each request that the agent makes.

For example, see the following code:

```typescript
const montelo = new Montelo();

const trace = montelo.trace({ name: "Trace Name" });

await trace.openai.chat.completions.create({
  name: "Browser Agent / Browse search engine results",
});
await trace.log({ ... });
await trace.openai.chat.completions.create({
  name: "PDF Agent / Read a pdf",
});
```

### Tip

You will most likely already know the names of the nesting beforehand, so you can use an Enum to define the names of the traces.

```typescript
const montelo = new Montelo();

enum TraceNames {
  BrowserAgent = "Browser Agent",
  PDFAgent = "PDF Agent",
}

const trace = montelo.trace({ name: "Trace Name" });

await trace.openai.chat.completions.create({
  name: `${TraceNames.BrowserAgent} / Browse search engine results`,
});
await trace.log({ ... });
await trace.openai.chat.completions.create({
  name: `${TraceNames.PDFAgent} / Read a pdf`,
});
```
